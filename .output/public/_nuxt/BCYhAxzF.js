import{B as T,C as P,l as A,r as m,D as U,s as $,x as E,c as p,o as f,a as o,z as h,k as C,E as I,b as w,_ as z}from"./U7KmdOUW.js";import{u as G,_ as y}from"./DKnUueKo.js";const Q=T("booking",{state:()=>({bookingData:null}),actions:{setBookingData(k){this.bookingData=k}}}),q={class:"mx-auto p-4 md:p-6 bg-white rounded-xl shadow-lg border border-gray-100 relative"},F={class:"block md:hidden space-y-4"},O={class:"w-full"},W={class:"relative"},j=["value","disabled"],H={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},J={class:"w-full"},K={class:"relative"},R=["value","disabled"],X={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},Y={class:"w-full"},Z=["min"],ee={class:"grid grid-cols-2 gap-3"},oe={class:"hidden md:flex flex-col lg:flex-row items-end gap-4"},te={class:"flex-1 min-w-0"},ae={class:"relative"},le=["value","disabled"],se={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},re={class:"flex-1 min-w-0"},ne={class:"relative"},ue=["value","disabled"],ie={key:0,class:"absolute right-3 top-1/2 transform -translate-y-1/2"},de={class:"flex-1 min-w-0"},me=["min"],ce={class:"flex-1 min-w-0"},pe={class:"flex-1 min-w-0"},fe=P({__name:"BookingForm",emits:["search"],setup(k,{emit:ge}){Q();const{$googleMaps:L,$googleMapsLoading:ve,$googleMapsLoaded:be}=A(),s=m(!1),l=G(),B=U(),r=m(l.from),n=m(l.to),d=m(l.pickupDateTime),u=m(l.passengers),i=m(l.luggage),g=m(null),v=m(null);m("default"),Array.from({length:96},(t,e)=>{const a=Math.floor(e/4),c=e%4*15;return`${a.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`}),$(()=>{r.value=l.from,n.value=l.to,d.value=l.pickupDateTime,u.value=l.passengers,i.value=l.luggage,b(g,r),b(v,n)}),E([r,n,d,u,i],()=>{l.setQueryData({from:r.value,to:n.value,passengers:Number(u.value),luggage:Number(i.value),pickupDateTime:d.value})});const M=()=>(s.value=!0,L().finally(()=>{s.value=!1})),x=t=>{r.value=t.target.value},_=t=>{n.value=t.target.value},b=async(t,e)=>{if(await M(),t.value){const a=new window.google.maps.places.Autocomplete(t.value,{types:["establishment","geocode"],componentRestrictions:{country:"uk"}});a.addListener("place_changed",()=>{const c=a.getPlace();c.geometry&&(e.value=c.formatted_address,t.value&&(t.value.value=c.formatted_address))})}},D=async()=>{await b(g,r)},S=async()=>{await b(v,n)};function N(t,e){return t<=4&&e<=2?"saloon":t<=4&&e>=3&&e<=4?"estate":t>=5&&t<=6&&e<=4?"mpv":t<=4&&e<=2?"wheelchair":"saloon"}const V=()=>{const t=N(Number(u.value),Number(i.value));l.setQueryData({from:r.value,to:n.value,passengers:Number(u.value),luggage:Number(i.value),pickupDateTime:d.value,vehicleType:t});const e=new URLSearchParams({from:r.value,to:n.value,passengers:String(u.value),luggage:String(i.value),pickupDateTime:d.value,vehicleType:t});B.push(`/quote?${e.toString()}`)};return(t,e)=>(f(),p("div",q,[o("div",F,[o("div",O,[e[7]||(e[7]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2 font-inter"},"Pick-up Location",-1)),o("div",W,[o("input",{ref_key:"pickupInput",ref:g,value:r.value,onInput:x,onChange:D,autocomplete:"off",name:"pickup-autocomplete",type:"text",placeholder:"Eg: Gatwick Airport",class:"w-full p-3 border-2 border-gray-200 rounded-lg text-sm shadow-sm focus:border-amber-400 focus:ring-2 focus:ring-amber-100 transition-all duration-200 hover:border-gray-300",disabled:s.value},null,40,j),s.value?(f(),p("div",H,e[6]||(e[6]=[o("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-amber-400"},null,-1)]))):h("",!0)])]),o("div",J,[e[9]||(e[9]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Drop-off Location",-1)),o("div",K,[o("input",{ref_key:"dropoffInput",ref:v,value:n.value,onInput:_,onChange:S,autocomplete:"off",name:"dropoff-autocomplete",type:"text",placeholder:"Eg: SW1 7NL",class:"w-full p-3 border-2 border-gray-200 rounded-lg text-sm shadow-sm focus:border-amber-400 focus:ring-2 focus:ring-amber-100 transition-all duration-200 hover:border-gray-300",disabled:s.value},null,40,R),s.value?(f(),p("div",X,e[8]||(e[8]=[o("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-amber-400"},null,-1)]))):h("",!0)])]),o("div",Y,[e[10]||(e[10]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Pickup Date & Time",-1)),C(o("input",{type:"datetime-local","onUpdate:modelValue":e[0]||(e[0]=a=>d.value=a),class:"w-full p-3 border-2 border-gray-200 rounded-lg text-sm shadow-sm focus:border-amber-400 focus:ring-2 focus:ring-amber-100 transition-all duration-200 hover:border-gray-300",min:new Date().toISOString().slice(0,16)},null,8,Z),[[I,d.value]])]),o("div",ee,[o("div",null,[w(y,{modelValue:u.value,"onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a),options:["1","2","3","4","5","6","7","8"],label:"Passengers"},null,8,["modelValue"])]),o("div",null,[w(y,{modelValue:i.value,"onUpdate:modelValue":e[2]||(e[2]=a=>i.value=a),options:["0","1","2","3","4","5","6","7","8","9","10"],label:"Luggages"},null,8,["modelValue"])])]),o("div",{class:"w-full"},[o("button",{onClick:V,class:"w-full bg-amber-400 hover:bg-amber-500 text-gray-800 p-3 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-amber-300 focus:ring-offset-2 font-medium"},e[11]||(e[11]=[o("div",{class:"flex items-center justify-center space-x-2"},[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})]),o("span",null,"Search & Book")],-1)]))])]),o("div",oe,[o("div",te,[e[13]||(e[13]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2 font-inter"},"Pick-up Location",-1)),o("div",ae,[o("input",{ref_key:"pickupInput",ref:g,value:r.value,onInput:x,onChange:D,autocomplete:"off",name:"pickup-autocomplete",type:"text",placeholder:"Eg: Gatwick Airport",class:"w-full p-3 border-2 border-gray-200 rounded-lg text-sm shadow-sm focus:border-amber-400 focus:ring-2 focus:ring-amber-100 transition-all duration-200 hover:border-gray-300",disabled:s.value},null,40,le),s.value?(f(),p("div",se,e[12]||(e[12]=[o("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-amber-400"},null,-1)]))):h("",!0)])]),o("div",re,[e[15]||(e[15]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Drop-off Location",-1)),o("div",ne,[o("input",{ref_key:"dropoffInput",ref:v,value:n.value,onInput:_,onChange:S,autocomplete:"off",name:"dropoff-autocomplete",type:"text",placeholder:"Eg: SW1 7NL",class:"w-full p-3 border-2 border-gray-200 rounded-lg text-sm shadow-sm focus:border-amber-400 focus:ring-2 focus:ring-amber-100 transition-all duration-200 hover:border-gray-300",disabled:s.value},null,40,ue),s.value?(f(),p("div",ie,e[14]||(e[14]=[o("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-amber-400"},null,-1)]))):h("",!0)])]),o("div",de,[e[16]||(e[16]=o("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Pickup Date & Time",-1)),C(o("input",{type:"datetime-local","onUpdate:modelValue":e[3]||(e[3]=a=>d.value=a),class:"w-full p-3 border-2 border-gray-200 rounded-lg text-sm shadow-sm focus:border-amber-400 focus:ring-2 focus:ring-amber-100 transition-all duration-200 hover:border-gray-300",min:new Date().toISOString().slice(0,16)},null,8,me),[[I,d.value]])]),o("div",ce,[w(y,{modelValue:u.value,"onUpdate:modelValue":e[4]||(e[4]=a=>u.value=a),options:["1","2","3","4","5","6","7","8"],label:"Passengers"},null,8,["modelValue"])]),o("div",pe,[w(y,{modelValue:i.value,"onUpdate:modelValue":e[5]||(e[5]=a=>i.value=a),options:["0","1","2","3","4","5","6","7","8","9","10"],label:"Luggages"},null,8,["modelValue"])]),o("div",{class:"flex-shrink-0"},[o("button",{onClick:V,class:"bg-amber-400 hover:bg-amber-500 text-gray-800 p-3 rounded-lg shadow-md hover:shadow-lg transition-all duration-200 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-amber-300 focus:ring-offset-2"},e[17]||(e[17]=[o("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[o("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})],-1)]))])])]))}}),ye=z(fe,[["__scopeId","data-v-2220f9e9"]]);export{ye as B};
